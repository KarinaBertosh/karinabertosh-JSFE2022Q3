(()=>{"use strict";var e={83:(e,t,s)=>{s.r(t)},466:(e,t,s)=>{s.r(t)},936:(e,t,s)=>{s.r(t)},212:(e,t,s)=>{s.r(t)},284:(e,t,s)=>{s.r(t)},762:(e,t,s)=>{s.r(t)},23:(e,t,s)=>{s.r(t)},104:(e,t,s)=>{s.r(t)},387:(e,t,s)=>{s.r(t)},873:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const n=s(403),i=s(897),r=s(92),d=s(226),l=s(315),a=s(836),o=s(426);class c extends n.BaseComponent{constructor(){super("main",["app"]),this.sizeField=16,this.cardFieldFrameSize=new r.CardFieldFrameSize(`${Math.sqrt(this.sizeField)} * ${Math.sqrt(this.sizeField)}`),this.settings=new l.GameSettings(this.sizeField),this.stepper=new a.Stepper,this.cardField=new i.CardField((()=>this.countStep()));const e=new d.Menu,t=new o.Timer;this.cardField.refreshGameSize(this.sizeField),e.element.childNodes.forEach((e=>{e.addEventListener("click",(e=>this.handlerMenu(e.target)))})),this.cardField.add(this.shuffle()),this.settings.element.childNodes.forEach((e=>{e.addEventListener("click",(e=>this.handlerSettings(e.target)))})),this.element.appendChild(e.element),this.element.appendChild(this.stepper.element),this.element.appendChild(t.element),this.element.appendChild(this.cardField.element),this.element.appendChild(this.cardFieldFrameSize.element),this.element.appendChild(this.settings.element)}handlerSettings(e){const t=+e.textContent[0];"number"==typeof t&&(this.sizeField=Math.pow(t,2),this.cardFieldFrameSize.changeFrameSizeText(`${Math.sqrt(this.sizeField)} * ${Math.sqrt(this.sizeField)}`)),this.cardField.clear(),this.cardField.add(this.shuffle()),this.cardField.refreshGameSize(this.sizeField),document.querySelectorAll("button").forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),this.stepper.clearStep()}handlerMenu(e){"Shuffle and start"===e.textContent&&(this.cardField.clear(),this.cardField.add(this.shuffle()),this.stepper.clearStep())}shuffle(){return Array.from(Array(this.sizeField).keys()).sort((()=>Math.random()-.5))}countStep(){this.stepper.plusStep()}}t.App=c},507:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0,s(83);const n=s(403);class i extends n.BaseComponent{constructor(e,t=[]){super("button",["button"].concat(t)),this.element.innerHTML=e}}t.Button=i},92:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardFieldFrameSize=void 0,s(466);const n=s(403);class i extends n.BaseComponent{constructor(e){super("div",["card-field-frame-size"]),this.element.innerHTML=`     \n                <div class="card-field-frame-size">Frame size: ${e}</div>\n            `}changeFrameSizeText(e){this.element.innerHTML="",this.element.innerHTML=` \n                <div class="card-field-frame-size">Frame size: ${e}</div>`}}t.CardFieldFrameSize=i},897:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardField=void 0,s(936);const n=s(403),i=s(124);class r extends n.BaseComponent{constructor(e){super("div",["card-field"]),this.cards=[],this.count=e}clear(){this.cards=[],this.element.innerHTML=""}add(e){this.cards=e,this.cards.forEach((e=>{if(0!==e){const t=new i.Card(e,[`card__size__${this.cards.length}`]);t.element.addEventListener("click",(e=>this.handler(e.target))),this.element.appendChild(t.element)}else{const t=new i.Card(e,["empty-card",`card__size__${this.cards.length}`]);this.element.appendChild(t.element)}}))}handler(e){const t=e.textContent;this.renderNumbers(+t,e)}refreshGameSize(e){this.currantGameSize=e}getCardSize(e){switch(this.currantGameSize){case 9:return"-"===e?"-133px":"133px";case 16:case 25:case 36:case 49:case 64:return"-"===e?"-100px":"100px";default:return"100px"}}renderNumbers(e,t){const s=this.cards,n=[...s],i=Math.sqrt(s.length),r=s.indexOf(e),d=r%i;0===s[r+1]&&d!==i-1?(n.splice(r+1,1,e),n.splice(r,1,0),t.style.left=this.getCardSize("+"),this.count()):0===s[r-1]&&0!==d?(n.splice(r-1,1,e),n.splice(r,1,0),t.style.left=this.getCardSize("-"),this.count()):0===s[r-i]&&r>i-1?(n.splice(r-i,1,e),n.splice(r,1,0),t.style.top=this.getCardSize("-"),this.count()):0===s[r+i]&&(n.splice(r+i,1,e),n.splice(r,1,0),t.style.top=this.getCardSize("+"),this.count()),setTimeout((()=>{this.clear(),this.add(n)}),300)}}t.CardField=r},124:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,s(212);const n=s(403);class i extends n.BaseComponent{constructor(e,t=[]){super("div",["card"].concat(...t)),this.element.innerHTML=`${e||""}`}}t.Card=i},315:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameSettings=void 0,s(284);const n=s(403),i=s(507);class r extends n.BaseComponent{constructor(e){super("div",["settings"]),this.element.innerHTML="     \n      <p>Other sizes:</p> \n   ",console.log(e);const t=new i.Button("3*3",9===e?["active"]:[]),s=new i.Button("4*4",16===e?["active"]:[]),n=new i.Button("5*5",25===e?["active"]:[]),r=new i.Button("6*6",36===e?["active"]:[]),d=new i.Button("7*7",49===e?["active"]:[]),l=new i.Button("8*8",64===e?["active"]:[]);this.element.appendChild(t.element),this.element.appendChild(s.element),this.element.appendChild(n.element),this.element.appendChild(r.element),this.element.appendChild(d.element),this.element.appendChild(l.element)}}t.GameSettings=r},226:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0,s(762);const n=s(403),i=s(507);class r extends n.BaseComponent{constructor(){super("div",["menu"]);const e=new i.Button("Shuffle and start"),t=new i.Button("Stop"),s=new i.Button("Save"),n=new i.Button("Results");this.element.appendChild(e.element),this.element.appendChild(t.element),this.element.appendChild(s.element),this.element.appendChild(n.element)}}t.Menu=r},836:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stepper=void 0,s(23);const n=s(403);class i extends n.BaseComponent{constructor(){super("div",["stepper"]),this.numberStep=0,this.element.innerHTML="     \n    <p>Moves:</p>\n    <p>0</p>\n   "}plusStep(){this.numberStep+=1,this.rerender()}clearStep(){this.numberStep=0,this.rerender()}rerender(){this.element.innerHTML=`     \n    <p>Moves:</p>\n    <p>${this.numberStep}</p>\n   `}}t.Stepper=i},426:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const n=s(403);s(104);class i extends n.BaseComponent{constructor(){super("div",["timer"]),this.timerText=new n.BaseComponent("div",["time"]),this.element.appendChild(this.timerText.element),this.sec=0,this.timerText.element.innerHTML="00:00"}}t.Timer=i},403:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=s(873);s(387),window.onload=()=>{const t=new e.App;document.body.appendChild(t.element)}})()})();